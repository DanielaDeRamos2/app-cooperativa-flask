{% extends 'base.html' %}

{% block title %}Checkout{% endblock %}

{% block content %}
<div class="container page-card">
  <h1 class="page-title">Finalizar Pedido</h1>

  <div class="checkout-grid">
    <section class="checkout-left">
      <form method="POST" class="form-grid">
        <label class="form-label">Forma de Pagamento</label>
        <select class="form-control" name="forma_pagamento">
          <option value="dinheiro">Dinheiro</option>
          <option value="pix">PIX</option>
          <option value="cartao">Cartão na entrega</option>
        </select>

        <label class="form-label">Recebimento</label>
        <select class="form-control" name="tipo_recebimento">
          <option value="retirada">Retirada</option>
          <option value="entrega">Entrega</option>
        </select>

        <label class="form-label">Data Agendada</label>
        <input class="form-control" type="datetime-local" name="data_agendada">

        <label class="form-label">Observações</label>
        <textarea class="form-control" name="observacoes"></textarea>

        <div class="form-actions">
          <button class="btn btn-primary" type="submit">Confirmar Pedido</button>
        </div>
      </form>
    </section>

    <aside class="checkout-right">
      <h3>Resumo do Pedido</h3>
      {% if carrinho %}
        <ul class="cart-summary-list">
          {% for id, item in carrinho.items() %}
            <li class="summary-item">
              <div>{{ item.nome }} x {{ item.quantidade }}</div>
              <div>R$ {{ item.preco * item.quantidade }}</div>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p>Sem itens no carrinho.</p>
      {% endif %}

      <div class="summary-total">Total: <strong>R$ {{ total }}</strong></div>
    </aside>
  </div>
</div>
{% endblock %}
