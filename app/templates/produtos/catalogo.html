{% extends 'base.html' %}

{% block title %}Catálogo{% endblock %}

{% block content %}
<div class="container">
  <h1 class="page-title">Catálogo de Produtos</h1>

  <form method="get" class="inline-form mb-16">
    <input class="form-control" type="text" name="busca" placeholder="Buscar produto">
    <select class="form-control" name="categoria">
      <option value="">Todas categorias</option>
      {% for cat in categorias %}
        <option value="{{ cat.id }}">{{ cat.nome }}</option>
      {% endfor %}
    </select>
    <button class="btn btn-secondary" type="submit">Filtrar</button>
  </form>

  <div class="products-grid">
    {% for prod in produtos %}
      <article class="product-card">
        <h3 class="product-title">{{ prod.nome }}</h3>
        <div class="muted">{{ prod.categoria.nome }}</div>
        <div class="price">R$ {{ prod.preco }}</div>
      </article>
    {% endfor %}
  </div>
</div>
{% endblock %}