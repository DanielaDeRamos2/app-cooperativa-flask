{% extends 'base.html' %}

{% block title %}{{ titulo }}{% endblock %}

{% block content %}
<div class="container">
    <h1 class="page-title">{{ titulo }}</h1>

    <div class="filters mb-16">
        <form method="get" class="inline-form">
            <input class="form-control" type="text" name="q" placeholder="Buscar produtos...">
            <select class="form-control" name="categoria">
                <option value="">Todas categorias</option>
            </select>
            <button class="btn btn-secondary" type="submit">Filtrar</button>
        </form>
    </div>

    <div class="products-grid">
        {% if produtos %}
            {% for produto in produtos %}
                <article class="product-card">
                    <div class="product-media">
                        {% if produto.foto_url %}
                            <img src="{{ produto.foto_url }}" alt="{{ produto.nome }}">
                        {% else %}
                            <div class="product-placeholder">Produto</div>
                        {% endif %}
                    </div>
                    <h3 class="product-title">{{ produto.nome }}</h3>
                    <div class="price">R$ {{ "%.2f"|format(produto.preco) }}</div>
                    <a class="btn btn-ghost" href="/produtos/{{ produto.id }}">Ver Detalhes</a>
                </article>
            {% endfor %}
        {% else %}
            <p>Nenhum produto encontrado.</p>
        {% endif %}
    </div>
</div>
{% endblock %}